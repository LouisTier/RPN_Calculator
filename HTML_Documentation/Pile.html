<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Pile.java</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<style type="text/css">
<!--
body {color: #000000; background-color: #ffffff; font-family: monospace}
pre {color: #000000; background-color: #ffffff; font-family: monospace}
table {color: #000000; background-color: #e9e8e2; font-family: monospace}
.ST0 {font-family: monospace; font-weight: bold}
.comment {color: #969696}
.ST1 {color: #009900}
.literal {color: #0000e6}
.string {color: #ce7b00}
-->
</style>
</head>
<body>
<table width="100%"><tr><td align="center">C:\Users\Louis\Documents\NetBeansProjects\ProjetJava_Calculatrice\src\modele\Pile.java</td></tr></table>
<pre>
 1 <span class="comment">/*</span>
 2 <span class="comment"> * To change this license header, choose License Headers in Project Properties.</span>
 3 <span class="comment"> * To change this template file, choose Tools | Templates</span>
 4 <span class="comment"> * and open the template in the editor.</span>
 5 <span class="comment"> */</span>
 6 <span class="literal">package</span> modele;
 7 
 8 <span class="literal">import</span> java.util.ArrayList;
 9 <span class="literal">import</span> java.beans.PropertyChangeSupport;
10 <span class="literal">import</span> java.beans.PropertyChangeListener;
11 
12 <span class="literal">public</span> <span class="literal">class</span> <span class="ST0">Pile</span> <span class="literal">extends</span> java.util.Stack&lt;Double&gt;{
13         
14         <span class="literal">private</span> ArrayList&lt;Double&gt; <span class="ST1">valeurs</span> = <span class="literal">new</span> ArrayList&lt;Double&gt;();
15         <span class="literal">private</span> PropertyChangeSupport <span class="ST1">pcs</span> = <span class="literal">new</span> PropertyChangeSupport(<span class="literal">t</span><span class="literal">his</span>);
16         
17         <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">avertir</span>(){ <span class="comment">//Pour prévenir l&#39;utilisateur des changements de valeurs suite à une opération</span>
18                 <span class="ST1">pcs</span>.firePropertyChange(<span class="string">&quot;</span><span class="string">Modification de: </span><span class="string">&quot;</span>, <span class="ST1">v</span><span class="ST1">aleurs</span>, <span class="ST1">v</span><span class="ST1">aleurs</span>);
19         }
20         
21         
22         <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">addPropertyChangeListener</span>(PropertyChangeListener listener){
23                 <span class="literal">this</span>.<span class="ST1">pcs</span>.addPropertyChangeListener(listener);
24         }       
25         
26         <span class="comment">//On redéfinit la méthode push d&#39;une pile : en plus de push, on avertit l&#39;utilisateur du changement fait suite à la méthode (avertir())</span>
27         <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">push</span>(<span class="literal">double</span> valeur) {
28 
29                 <span class="ST1">valeurs</span>.add(valeur);
30                 avertir();
31                 <span class="literal">super</span>.push(valeur);
32 
33         }
34         
35         <span class="comment">/*</span>
36 <span class="comment">        Pour toutes les méthodes, même principe et même raisonnement que pour la méthode push</span>
37 <span class="comment">        */</span>
38         
39         @Override
40         <span class="literal">public</span> Double <span class="ST0">pop</span>(){
41 
42                 <span class="ST1">valeurs</span>.remove(<span class="ST1">valeurs</span>.size()-1);
43                 avertir();
44                 <span class="literal">return</span> <span class="literal">super</span>.pop();
45 
46         }
47 
48         <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">drop</span>() {
49                 avertir();
50                 pop();
51 
52         }
53         
54         <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">reset</span>() {
55 
56                 <span class="ST1">valeurs</span>.clear();
57                 avertir();
58                 <span class="literal">super</span>.clear();
59         }
60         
61         
62         <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">swap</span>() {
63                 <span class="literal">double</span> dernier = <span class="literal">this</span>.pop(); <span class="comment">//On retire le dernier element en premier</span>
64                 <span class="literal">double</span> av_dernier = <span class="literal">this</span>.pop();
65                 avertir();
66                 <span class="literal">this</span>.push(dernier);
67                 <span class="literal">this</span>.push(av_dernier);
68 
69         }
70                 
71         
72 }
73 
</pre></body>
</html>
