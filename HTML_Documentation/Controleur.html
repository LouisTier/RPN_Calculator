<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Controleur.java</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<style type="text/css">
<!--
body {color: #000000; background-color: #ffffff; font-family: monospace}
pre {color: #000000; background-color: #ffffff; font-family: monospace}
table {color: #000000; background-color: #e9e8e2; font-family: monospace}
.ST0 {font-family: monospace; font-weight: bold}
.comment {color: #969696}
.ST1 {color: #009900}
.ST3 {font-family: monospace; font-weight: bold; font-style: italic}
.ST2 {color: #009900; font-family: monospace; font-style: italic}
.ST4 {font-family: monospace; font-style: italic}
.literal {color: #0000e6}
.string {color: #ce7b00}
-->
</style>
</head>
<body>
<table width="100%"><tr><td align="center">C:\Users\Louis\Documents\NetBeansProjects\ProjetJava_Calculatrice\src\controleur\Controleur.java</td></tr></table>
<pre>
 1 <span class="comment">/*</span>
 2 <span class="comment"> * To change this license header, choose License Headers in Project Properties.</span>
 3 <span class="comment"> * To change this template file, choose Tools | Templates</span>
 4 <span class="comment"> * and open the template in the editor.</span>
 5 <span class="comment"> */</span>
 6 <span class="literal">package</span> controleur;
 7 
 8 <span class="literal">import</span> modele.*; <span class="comment">//on import tout ce qu&#39;on a codé dans le package model</span>
 9 <span class="literal">import</span> vue.*; <span class="comment">//on import tout ce qu&#39;on a codé dans le package vue</span>
10 
11 <span class="literal">import</span> java.beans.PropertyChangeListener;
12 <span class="literal">import</span> java.beans.PropertyChangeEvent;
13 
14 <span class="literal">import</span> javafx.application.Application;
15 <span class="literal">import</span> javafx.event.Event;
16 <span class="literal">import</span> javafx.event.EventHandler;
17 <span class="literal">import</span> javafx.stage.Stage;
18 
19 <span class="literal">public</span> <span class="literal">class</span> <span class="ST0">Controleur</span> <span class="literal">extends</span> Application <span class="literal">implements</span> PropertyChangeListener, EventHandler{
20                 
21                 <span class="comment">//Définition des attributs</span>
22                 <span class="literal">private</span> InterfaceGraphique <span class="ST1">fenetre</span>;        
23                 <span class="literal">private</span> Accumulateur <span class="ST1">model</span> = <span class="literal">new</span> Accumulateur();
24                 
25                 @Override
26                 <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">start</span>(Stage primaryStage) <span class="literal">throws</span> Exception {
27                     
28                         <span class="ST1">model</span>.addPropertyChangeListener(<span class="literal">t</span><span class="literal">his</span>);
29 
30                         Pile memoire = <span class="ST1">model</span>.getMemoire();
31                         memoire.addPropertyChangeListener(<span class="literal">t</span><span class="literal">his</span>);
32                         
33                         <span class="comment">//Pour afficher l&#39;interface graphique</span>
34                         InterfaceGraphique fenetre = <span class="literal">new</span> InterfaceGraphique(primaryStage, <span class="literal">t</span><span class="literal">his</span>);
35                         fenetre.affiche();
36 
37                 }               
38                 
39                 <span class="comment">//Quand on appuie sur un bouton à partir de l&#39;interface on vient ajouter ce chiffre dans notre accumulateur sous forme de caractères</span>
40                 <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">appuyerSurCalculatrice</span>(<span class="literal">char</span> chr) {
41                     
42                     <span class="ST1">model</span>.accumuler(chr);
43                     System.<span class="ST2">out</span>.println(chr);<span class="comment">//Initialement pour tester que la méthode s&#39;exécutait correctement</span>
44 
45                 }
46                 
47                 <span class="comment">//Pour récupérer la valeur stockée dans l&#39;accumulateur pour l&#39;interface graphique</span>
48                 <span class="literal">public</span> Accumulateur <span class="ST0">getAccu</span>(){
49                     <span class="literal">return</span> <span class="ST1">model</span>;
50                 }
51                 
52                 <span class="comment">//Methode main pour lancer correctement le programme</span>
53                 <span class="literal">public</span> <span class="literal">static</span> <span class="literal">void</span> <span class="ST3">main</span>(String[] args) { 
54                     <span class="ST4">launch</span>(args);
55 
56                 }
57 
58     @Override
59     <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">propertyChange</span>(PropertyChangeEvent evt) {
60         <span class="literal">throw</span> <span class="literal">new</span> UnsupportedOperationException(<span class="string">&quot;</span><span class="string">Not supported yet.</span><span class="string">&quot;</span>); <span class="comment">//To change body of generated methods, choose Tools | Templates.</span>
61     }
62 
63     @Override
64     <span class="literal">public</span> <span class="literal">void</span> <span class="ST0">handle</span>(Event event) {
65         <span class="literal">throw</span> <span class="literal">new</span> UnsupportedOperationException(<span class="string">&quot;</span><span class="string">Not supported yet.</span><span class="string">&quot;</span>); <span class="comment">//To change body of generated methods, choose Tools | Templates.</span>
66     }
67 }
68 
</pre></body>
</html>
